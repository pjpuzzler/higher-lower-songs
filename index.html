<!DOCTYPE html>
<html>
    <head>
        <title>Higher Lower Songs</title>

        <link rel="stylesheet" href="style.css" />
        <link rel="shortcut icon" href="favicon.ico" />

        <script src="https://code.jquery.com/jquery.min.js"></script>
        <script src="vibrant.js"></script>
        <script src="constants.js"></script>
        <script src="script.js"></script>
    </head>
    <body>
        <div id="left_half" class="half slide_half">
            <div class="side_details">
                <button id="album_art_1_btn" onclick="clickTrack(this, 1)">
                    <img id="album_art_1" class="album_art" draggable="false" />
                </button>
                <div class="track_details">
                    <div id="left_track_info" class="track_info">
                        <h3>
                            <div
                                id="track_1_left_gradient"
                                class="left_gradient"
                            ></div>
                            <div
                                id="track_1_right_gradient"
                                class="right_gradient"
                            ></div>
                            <a
                                id="track_title_1"
                                class="track_title_link"
                                target="_blank"
                                draggable="false"
                            ></a>
                        </h3>
                        <div class="artist_container">
                            <div
                                id="artist_1_left_gradient"
                                class="left_gradient artist_gradient"
                            ></div>
                            <div
                                id="artist_1_right_gradient"
                                class="right_gradient artist_gradient"
                            ></div>
                            <h4 id="artist_1" class="all_artist_link"></h4>
                        </div>
                    </div>
                    <button
                        id="like_btn_1"
                        class="like_btn"
                        onclick="likeTrack(this, 1)"
                    ></button>
                </div>

                <div class="guessing">
                    <div class="progress">
                        <div class="bar_overflow">
                            <div id="left_bar" class="bar"></div>
                        </div>
                        <h2 id="left_popularity" class="popularity"></h2>
                    </div>
                </div>
            </div>
        </div>

        <div id="right_half" class="half slide_half">
            <div class="side_details">
                <button id="album_art_2_btn" onclick="clickTrack(this, 2)">
                    <img id="album_art_2" class="album_art" draggable="false" />
                </button>
                <div class="track_details">
                    <div id="right_track_info" class="track_info">
                        <h3>
                            <div
                                id="track_2_left_gradient"
                                class="left_gradient"
                            ></div>
                            <div
                                id="track_2_right_gradient"
                                class="right_gradient"
                            ></div>
                            <a
                                id="track_title_2"
                                class="track_title_link"
                                target="_blank"
                                draggable="false"
                            ></a>
                        </h3>
                        <div class="artist_container">
                            <div
                                id="artist_2_left_gradient"
                                class="left_gradient artist_gradient"
                            ></div>
                            <div
                                id="artist_2_right_gradient"
                                class="right_gradient artist_gradient"
                            ></div>
                            <h4 id="artist_2" class="all_artist_link"></h4>
                        </div>
                    </div>
                    <button
                        id="like_btn_2"
                        class="like_btn"
                        onclick="likeTrack(this, 2)"
                    ></button>
                </div>

                <div class="guessing">
                    <button
                        id="guess_higher"
                        class="guess_btn"
                        onclick="checkGuess(true)"
                    >
                        Higher
                    </button>
                    <button
                        id="guess_lower"
                        class="guess_btn"
                        onclick="checkGuess(false)"
                    >
                        Lower
                    </button>
                    <div id="right_progress" class="progress">
                        <div class="bar_overflow">
                            <div id="right_bar" class="bar"></div>
                        </div>
                        <h2 id="right_popularity" class="popularity"></h2>
                    </div>
                </div>
            </div>
        </div>
        <div id="vs_container">
            <div id="vs">vs</div>
        </div>

        <button id="restart" onclick="restart()">restart</button>

        <div id="high_score">
            <h6 id="current_high_score"></h6>
        </div>

        <a
            id="spotify"
            target="_blank"
            draggable="false"
            href="https://open.spotify.com/"
        >
            <img
                id="spotify_logo"
                draggable="false"
                src="./imgs/Spotify_Logo.png"
                style="height: 100%"
            />
        </a>

        <div id="user_info">
            <div id="user_image_container"></div>
            <h6 id="user_display_name"></h6>

            <a id="change_user" onclick="changeUser()">Change</a>
        </div>

        <div id="score">
            <h5 id="current_score">0</h5>
        </div>

        <a id="source" target="_blank" draggable="false">
            <img id="source_img" draggable="false" />
            <svg id="source_img_search" viewBox="0 0 24 24">
                <path
                    d="M10.533 1.279c-5.18 0-9.407 4.14-9.407 9.279s4.226 9.279 9.407 9.279c2.234 0 4.29-.77 5.907-2.058l4.353 4.353a1 1 0 101.414-1.414l-4.344-4.344a9.157 9.157 0 002.077-5.816c0-5.14-4.226-9.28-9.407-9.28zm-7.407 9.279c0-4.006 3.302-7.28 7.407-7.28s7.407 3.274 7.407 7.28-3.302 7.279-7.407 7.279-7.407-3.273-7.407-7.28z"
                ></path>
            </svg>
            <h6 id="source_text"></h6>
        </a>

        <div id="volume">
            <button id="mute_btn" onclick="toggleMute()">
                <svg id="mute_img" viewBox="0 0 16 16">
                    <path
                        d="M9.741.85a.75.75 0 01.375.65v13a.75.75 0 01-1.125.65l-6.925-4a3.642 3.642 0 01-1.33-4.967 3.639 3.639 0 011.33-1.332l6.925-4a.75.75 0 01.75 0zm-6.924 5.3a2.139 2.139 0 000 3.7l5.8 3.35V2.8l-5.8 3.35zm8.683 4.29V5.56a2.75 2.75 0 010 4.88z"
                    ></path>
                    <path
                        d="M11.5 13.614a5.752 5.752 0 000-11.228v1.55a4.252 4.252 0 010 8.127v1.55z"
                    ></path>
                </svg>
            </button>
            <input
                id="volume_slider"
                type="range"
                min="0"
                max="100"
                oninput="setVolume(this.value / 100 * MAX_VOLUME)"
            />
        </div>

        <audio
            id="track_player"
            ontimeupdate="trackPlayerTimeUpdated(this.currentTime)"
            autoplay
            loop
        ></audio>

        <button id="play_btn" class="valid_play_btn" onclick="play()">
            <svg id="play_btn_svg" viewBox="0 0 16 16">
                <path
                    d="M3 1.713a.7.7 0 011.05-.607l10.89 6.288a.7.7 0 010 1.212L4.05 14.894A.7.7 0 013 14.288V1.713z"
                ></path>
            </svg>
        </button>

        <div id="params">
            <div id="advanced_params">
                <input
                    id="use_search"
                    name="use"
                    type="radio"
                    onchange="changeParams({use: 'search'})"
                />
                <label for="use_search">Search</label>
                <br />
                <div class="params_indent">
                    <input
                        id="max_search_results"
                        type="range"
                        min="10"
                        max="1000"
                        value="1000"
                        step="10"
                        oninput="changeParams({maxSearchResults: this.value}); this.nextElementSibling.innerText = `Max Search Results (${this.value})`"
                    />
                    <label for="max_search_results">Max Results</label>
                    <br />
                    <input
                        id="from_year"
                        type="number"
                        min="0"
                        oninput="changeParams({query: {...params.query, year: `${this.value}-${document.getElementById('to_year').value}`}}); if (this.value !== '') document.getElementById('to_year').min = this.value"
                    />
                    <label>-</label>
                    <input
                        id="to_year"
                        type="number"
                        min="0"
                        oninput="changeParams({query: {...params.query, year: `${document.getElementById('from_year').value}-${this.value}`}}); if (this.value !== '') document.getElementById('from_year').max = this.value"
                    />
                    <label for="from_year">Year</label>
                    <br />
                    <select
                        id="genre"
                        onchange="changeParams({query: {...params.query, genre: this.value}})"
                    ></select>
                    <label for="genre">Genre</label>
                    <button
                        id="genre_random"
                        class="param_button"
                        onclick="randomGenre()"
                    >
                        Random
                    </button>
                </div>
                <br />
                <input
                    id="use_album_playlist"
                    name="use"
                    type="radio"
                    onchange="changeParams({use: 'album_playlist'})"
                />
                <label for="use_album_playlist">URI</label>
                <br />
                <div class="params_indent">
                    <input
                        id="album_playlist_uri"
                        type="text"
                        placeholder="spotify:album/playlist:id"
                        oninput="changeParams({albumPlaylistURI: this.value.trim()})"
                    />
                </div>
                <br />
                <input
                    id="use_user_playlist"
                    name="use"
                    type="radio"
                    onchange="changeParams({use: 'user_playlist'})"
                />
                <label for="use_user_playlist">User playlist</label>
                <br />
                <div class="params_indent">
                    <select
                        id="user_playlist"
                        onchange="changeParams({userPlaylistId: this.value})"
                    ></select>
                    <button
                        id="user_playlist_random"
                        class="param_button"
                        onclick="randomUserPlaylist()"
                    >
                        Random
                    </button>
                </div>
                <br />
                <input
                    id="use_featured_playlist"
                    name="use"
                    type="radio"
                    onchange="changeParams({use: 'featured_playlist'})"
                />
                <label
                    id="use_featured_playlist_label"
                    for="use_featured_playlist"
                ></label>
                <br />
                <div class="params_indent">
                    <select
                        id="featured_playlist"
                        onchange="changeParams({featuredPlaylistId: this.value})"
                    ></select>
                    <button
                        id="featured_playlist_random"
                        class="param_button"
                        onclick="randomFeaturedPlaylist()"
                    >
                        Random
                    </button>
                </div>
                <br />
                <input
                    id="use_liked_songs"
                    name="use"
                    type="radio"
                    onchange="changeParams({use: 'liked_songs'})"
                />
                <label for="use_liked_songs">Liked songs</label>
                <br />
                <br />
                <input
                    id="use_top_songs"
                    name="use"
                    type="radio"
                    onchange="changeParams({use: 'top_songs'})"
                />
                <label for="use_top_songs">Top songs</label>
            </div>
            <br />
            <button
                id="toggle_advanced_params"
                class="param_button"
                onclick="toggleAdvancedParams()"
            >
                Show Advanced
            </button>
            <button
                id="reset_params"
                class="param_button"
                onclick="resetParams()"
            >
                Reset
            </button>
            <br />
            <br />
            <input
                id="mute_explicit"
                type="checkbox"
                oninput="changeParams({muteExplicit: this.checked})"
            />
            <label for="mute_explicit">Mute explicit</label>
            <br />
            <input
                id="sound_only"
                type="checkbox"
                oninput="changeParams({soundOnly: this.checked})"
            />
            <label for="sound_only">Sound only</label>
        </div>
    </body>
</html>
